<div class="form-container">
  <form [formGroup]="employeeForm" (ngSubmit)="handleSubmit()">
    <table>
      <tr>
        <th></th>
        <th></th>
      </tr>
      <tr>
        <td>
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input
              type="text"
              required
              matInput
              formControlName="fName"
              placeholder="Ex. Harry"
            />
            @if (employeeForm.get('fName')?.hasError('required')) {
            <mat-error>Please enter a first name</mat-error>
            }
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input
              type="text"
              required
              matInput
              formControlName="lName"
              placeholder="Ex. Potter"
            />
            @if (employeeForm.get('lName')?.hasError('required')) {
            <mat-error>Please enter a last name</mat-error>
            }
          </mat-form-field>
        </td>
      </tr>
      <tr>
        <td>
          <mat-radio-group
            formControlName="gender"
            aria-label="Select an option"
            required
          >
            <mat-label>Gender</mat-label>
            <mat-radio-button value="Male">Male</mat-radio-button>
            <mat-radio-button value="Female">Female</mat-radio-button>
          </mat-radio-group>
          @if (employeeForm.get('gender')?.hasError('required')) {
          <mat-error>Please select gender</mat-error>
          }
        </td>
        <td>
          <mat-form-field>
            <mat-label>Experience</mat-label>
            <input
              type="number"
              required  
              matInput
              formControlName="experience"
              placeholder=""
            />
            @if (employeeForm.get('experience')?.hasError('required')) {
            <mat-error>Please enter experience</mat-error>
            }
          </mat-form-field>
        </td>
      </tr>
      <tr>
        <td>
          <mat-form-field>
            <mat-label>Education</mat-label>
            <mat-select formControlName="education">
              @for (option of educationOptions; track $index) {
              <mat-option value="{{ option }}">{{ option }}</mat-option>
              }
            </mat-select>
            @if (employeeForm.get('education')?.hasError('required')) {
            <mat-error>Please select education</mat-error>
            }
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <mat-label>Date Of Birth</mat-label>
            <input
              matInput
              required
              formControlName="dob"
              [matDatepicker]="picker"
            />
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle
              matIconSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            @if (employeeForm.get('dob')?.hasError('required')) {
            <mat-error>Please enter dob</mat-error>
            }
          </mat-form-field>
        </td>
      </tr>
      <tr style="text-align: center">
        <td colspan="2">
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input
              type="email"
              required
              matInput
              formControlName="email"
              placeholder="Ex. harry@gmail.com"
            />
            @if (employeeForm.get('email')?.hasError('email') &&
            !employeeForm.get('email')?.hasError('required')) {
            <mat-error>Please enter a valid email address</mat-error>
            } @if (employeeForm.get('email')?.hasError('required')) {
            <mat-error>Email is <strong>required</strong></mat-error>
            }
          </mat-form-field>
        </td>
      </tr>
      <tr style="text-align: center">
        <td>
          <button type="submit" [disabled]="employeeForm.invalid" mat-fab extended>Submit</button>
        </td>
        <td>
          <button style="background-color: rgb(255, 136, 0);" type="button" routerLink="/employees" mat-fab extended>Cancel</button>
        </td>
      </tr>
    </table>
  </form>
</div>
